{% extends "admin/change_list.html" %}
{% load static %}

{% block content %}
{{ block.super }}
<div class="submit-row">
    <form method="post" enctype="multipart/form-data" action="upload-questions/">
        {% csrf_token %}
        <label for="subject_id"><strong>Select Subject:</strong></label>
        <select name="subject_id" required>
            <option value="">-- Select Subject --</option>
            {% for subject in subjects %}
                <option value="{{ subject.id }}">{{ subject.name }} ({{ subject.code }})</option>
            {% endfor %}
        </select>
        <br><br>
        <label for="questions_file"><strong>Upload Questions (CSV or Excel):</strong></label>
        <input type="file" name="questions_file" accept=".csv,.xls,.xlsx" required>
        <button type="submit" class="default">Upload</button>
    </form>
</div>
{% if messages %}
    <ul class="messagelist">
        {% for message in messages %}
            <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
        {% endfor %}
    </ul>
{% endif %}
{% endblock %}
